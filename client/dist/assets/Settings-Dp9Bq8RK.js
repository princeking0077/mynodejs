import{j as e,g as b,t as v,u as f,v as j}from"./ui-vendor-D0NAvqNF.js";import{c as S,a as n}from"./react-vendor-DC7xXThO.js";import{u as _,a as p,L as w,S as k}from"./index-BQaYPuG7.js";const z=()=>{const{currentUser:c}=_(),i=S(),[r,g]=n.useState(!1),[s,l]=n.useState({type:"",text:""}),[o,m]=n.useState({google_analytics_id:"",google_search_console:"",adsense_code:"",ads_txt:""});n.useEffect(()=>{if(!c){i("/admin");return}x()},[c,i]);const x=async()=>{try{const t=await p.getSettings();m(d=>({...d,...t}))}catch(t){console.error(t)}},a=t=>{const{name:d,value:y}=t.target;m(u=>({...u,[d]:y}))},h=async()=>{g(!0),l({type:"",text:""});try{await p.saveSettings(o),l({type:"success",text:"Global settings updated successfully!"})}catch(t){console.error(t),l({type:"error",text:"Failed to save settings."})}finally{g(!1)}};return e.jsxs(w,{children:[e.jsx(k,{title:"Global Settings | Admin"}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},children:[e.jsx("button",{onClick:()=>i("/admin"),style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:e.jsx(b,{size:24})}),e.jsx("h1",{style:{margin:0},children:"Global Settings"})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"2.5rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(v,{size:24,color:"var(--primary)"}),e.jsx("h2",{style:{fontSize:"1.4rem",margin:0},children:"SEO & Monetization"})]}),s.text&&e.jsx("div",{style:{padding:"1rem",borderRadius:"0.5rem",marginBottom:"1.5rem",background:s.type==="success"?"rgba(34,197,94,0.1)":"rgba(239,68,68,0.1)",border:`1px solid ${s.type==="success"?"#22c55e":"#ef4444"}`,color:s.type==="success"?"#22c55e":"#ef4444"},children:s.text}),e.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Google Analytics Measurement ID"}),e.jsx("input",{type:"text",name:"google_analytics_id",value:o.google_analytics_id,onChange:a,placeholder:"G-XXXXXXXXXX",style:{width:"100%",padding:"0.8rem",borderRadius:"0.5rem",background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid var(--border)"}}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"0.3rem"},children:"This ID will be injected into the head of every page."})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Google Search Console HTML Code"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(f,{size:16,style:{position:"absolute",top:"12px",left:"12px",color:"var(--text-muted)"}}),e.jsx("input",{type:"text",name:"google_search_console",value:o.google_search_console,onChange:a,placeholder:'<meta name="google-site-verification" content="..." />',style:{width:"100%",padding:"0.8rem 0.8rem 0.8rem 2.5rem",borderRadius:"0.5rem",background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid var(--border)",fontFamily:"monospace"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Google AdSense Script"}),e.jsx("textarea",{name:"adsense_code",value:o.adsense_code,onChange:a,placeholder:'<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-..." crossorigin="anonymous"><\/script>',rows:4,style:{width:"100%",padding:"0.8rem",borderRadius:"0.5rem",background:"rgba(0,0,0,0.3)",color:"#a5b4fc",border:"1px solid var(--border)",fontFamily:"monospace"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Ads.txt Content"}),e.jsx("textarea",{name:"ads_txt",value:o.ads_txt,onChange:a,placeholder:"google.com, pub-0000000000000000, DIRECT, f08c47fec0942fa0",rows:4,style:{width:"100%",padding:"0.8rem",borderRadius:"0.5rem",background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid var(--border)",fontFamily:"monospace"}}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"0.3rem"},children:"This content will be served at /ads.txt (requires server setup)."})]})]}),e.jsx("div",{style:{marginTop:"3rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"2rem"},children:e.jsxs("button",{onClick:h,disabled:r,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",padding:"1rem",borderRadius:"0.5rem",border:"none",background:"var(--primary)",color:"black",fontWeight:"bold",fontSize:"1rem",cursor:r?"not-allowed":"pointer",opacity:r?.7:1},children:[e.jsx(j,{size:20}),r?"Saving Changes...":"Save Settings"]})})]})]})]})};export{z as default};
