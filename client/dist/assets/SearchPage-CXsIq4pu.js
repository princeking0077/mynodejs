import{j as e,B as p,i as u,p as x}from"./ui-vendor-D0NAvqNF.js";import{h as g,a as n,L as h}from"./react-vendor-DC7xXThO.js";import{L as f,S as y,a as j}from"./index-D05B95vM.js";const k=()=>{const[o]=g(),s=o.get("q"),[i,c]=n.useState([]),[d,l]=n.useState(!1);n.useEffect(()=>{const r=setTimeout(async()=>{if(s){l(!0);try{const a=await j.searchContent(s);c(a||[])}catch(a){console.error(a)}finally{l(!1)}}},300);return()=>clearTimeout(r)},[s]);const m=t=>{const r=t.subject_id||"unknown",a=t.slug||t.title.toLowerCase().replace(/[^a-z0-9]+/g,"-");return`/subject/${r}/${a}`};return e.jsxs(f,{children:[e.jsx(y,{title:`Search Results for "${s}"`}),e.jsxs("div",{className:"container",style:{minHeight:"60vh",paddingBottom:"4rem"},children:[e.jsxs("div",{style:{marginTop:"2rem",marginBottom:"3rem"},children:[e.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"Search Results"}),e.jsxs("p",{style:{color:"var(--text-muted)"},children:["Showing results for ",e.jsxs("span",{style:{color:"var(--primary)",fontWeight:"bold"},children:['"',s,'"']})]})]}),d?e.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-muted)"},children:"Searching..."}):i.length>0?e.jsx("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))"},children:i.map(t=>e.jsx(h,{to:m(t),style:{textDecoration:"none"},children:e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",height:"100%",display:"flex",flexDirection:"column",gap:"1rem",transition:"transform 0.2s"},onMouseEnter:r=>r.currentTarget.style.transform="translateY(-5px)",onMouseLeave:r=>r.currentTarget.style.transform="translateY(0)",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"0.5rem",borderRadius:"8px",color:"#3b82f6"},children:e.jsx(p,{size:20})}),e.jsx("h3",{style:{fontSize:"1.1rem",margin:0,color:"white"},children:t.title})]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",flex:1,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description?t.description.replace(/<[^>]*>/g,"").slice(0,100)+"...":"No description available."}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",color:"var(--primary)",fontSize:"0.9rem",alignItems:"center",gap:"0.3rem"},children:["Read Topic ",e.jsx(u,{size:16})]})]})},t.id))}):e.jsxs("div",{className:"glass-panel",style:{textAlign:"center",padding:"4rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",padding:"1rem",borderRadius:"50%",color:"#ef4444"},children:e.jsx(x,{size:32})}),e.jsx("h3",{style:{fontSize:"1.5rem"},children:"No results found"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Try searching for shorter keywords or different terms."})]})]})]})};export{k as default};
